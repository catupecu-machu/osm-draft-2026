<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>OSM DRAFT 2026 - Subasta</title>

<script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-database.js"></script>

<style>
body {
    font-family: Arial, sans-serif;
    background: #0f172a;
    color: white;
    text-align: center;
}

h1 { color: gold; }

.container {
    display: flex;
    justify-content: center;
    gap: 25px;
    flex-wrap: wrap;
}

.card {
    background: #1e293b;
    padding: 20px;
    border-radius: 15px;
    width: 250px;
}

button {
    margin-top: 8px;
    padding: 8px;
    background: gold;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    font-weight: bold;
}

.admin-btn {
    background: red;
    color: white;
}

input {
    padding: 5px;
    width: 90%;
    margin-top: 5px;
}

.closed {
    background: #374151;
    opacity: 0.7;
}
</style>
</head>
<body>

<h1>üèÜ OSM DRAFT 2026 - SUBASTA EN VIVO</h1>

<div class="container" id="managers"></div>

<script type="module">

import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
import { getDatabase, ref, onValue, set, update } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-database.js";

const firebaseConfig = {
  apiKey: "AIzaSyD0G3PfO8ebhJbDBDeB1k1-drKcpU3iksc",
  authDomain: "osm-draft-2026.firebaseapp.com",
  databaseURL: "https://osm-draft-2026-default-rtdb.firebaseio.com",
  projectId: "osm-draft-2026",
  storageBucket: "osm-draft-2026.firebasestorage.app",
  messagingSenderId: "212624551216",
  appId: "1:212624551216:web:d18a37b8225281ec756cf5"
};

const app = initializeApp(firebaseConfig);
const db = getDatabase(app);

const managersList = ["Manager 1", "Manager 2", "Manager 3", "Manager 4", "Manager 5"];

const container = document.getElementById("managers");

const isAdmin = window.location.search.includes("admin=2026");

function createCard(name) {
    const card = document.createElement("div");
    card.className = "card";
    card.id = name;

    card.innerHTML = `
        <h2>${name}</h2>
        <p>Oferta actual: <span class="price">0</span>M</p>
        <p>Ganador: <span class="winner">---</span></p>
        <p class="status"></p>
        <input type="text" placeholder="Tu nombre" class="username">
        <input type="number" placeholder="Oferta en millones" class="bid">
